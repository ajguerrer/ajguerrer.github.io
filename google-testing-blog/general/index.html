<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.62.2" />
    <meta name="theme-color" content="#85ad85">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="translucent">
    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <title>General Notes :: Notebook</title>

    
    <link href="/css/nucleus.css?1579407787" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1579407787" rel="stylesheet">
    <link href="/css/hybrid.css?1579407787" rel="stylesheet">
    <link href="/css/featherlight.min.css?1579407787" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1579407787" rel="stylesheet">
    <link href="/css/auto-complete.css?1579407787" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1579407787" rel="stylesheet">
    <link href="/css/theme.css?1579407787" rel="stylesheet">
    <link href="/css/hugo-theme.css?1579407787" rel="stylesheet">
    
      <link href="/css/theme-gruvbox.css?1579407787" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1579407787"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <link href="/css/gruvbox-dark.css" rel="stylesheet"/>
  </head>
  <body class="" data-url="/google-testing-blog/general/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <div class="logo">
  <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 90.000000 183.000000"
    preserveAspectRatio="xMidYMid meet">
    <g transform="translate(0.000000,183.000000) scale(0.100000,-0.100000)" stroke="none">
      <path d="M437 1690 c-4 -30 -7 -131 -8 -225 -2 -224 -2 -224 -62 -242 -67 -19
    -147 -97 -147 -141 0 -18 2 -32 4 -32 2 0 15 17 29 38 27 41 104 96 150 107
    l28 7 -3 -107 -3 -108 -30 -11 c-54 -19 -106 -57 -103 -75 2 -9 35 -32 74 -51
    l72 -35 7 -68 c8 -84 17 -80 19 8 l1 66 58 24 c32 13 67 31 78 41 17 15 18 19
    4 34 -8 9 -42 29 -75 45 l-60 29 0 101 c0 56 3 104 6 107 7 8 100 -29 134 -53
    14 -10 41 -40 60 -68 31 -45 50 -62 50 -46 0 17 -43 85 -72 114 -33 34 -119
    81 -149 81 -19 0 -24 43 -35 309 -8 182 -17 235 -27 151z m-11 -806 l-7 -33
    -40 18 c-68 31 -68 38 -8 66 l54 25 3 -21 c2 -12 1 -36 -2 -55z m101 50 c24
    -9 43 -21 43 -25 0 -12 -40 -36 -72 -44 -27 -7 -28 -6 -28 39 0 25 3 46 7 46
    4 0 27 -7 50 -16z" />
      <path d="M92 893 c14 -133 101 -250 231 -311 37 -18 74 -32 81 -32 8 0 17 -4
20 -8 3 -5 6 -109 7 -231 0 -123 5 -219 9 -214 19 20 30 125 30 278 l0 165 28
6 c75 17 98 25 133 50 57 39 108 107 139 183 32 77 49 157 31 147 -6 -4 -11
-12 -11 -17 0 -6 -16 -49 -36 -95 -31 -72 -46 -93 -98 -138 -69 -60 -120 -81
-176 -72 -22 3 -41 2 -45 -4 -15 -25 -86 1 -173 63 -51 37 -127 151 -148 224
-9 29 -18 53 -21 53 -3 0 -3 -21 -1 -47z" />
    </g>
  </svg>
  <p>Notebook</p>
</div>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1579407787"></script>
<script type="text/javascript" src="/js/auto-complete.js?1579407787"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/ajguerrer.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1579407787"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/google-testing-blog/" title="Google Testing Blog" class="dd-item 
        parent
        
        
        ">
      <a href="/google-testing-blog/">
          Google Testing Blog
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/google-testing-blog/general/" title="General Notes" class="dd-item active">
        <a href="/google-testing-blog/general/">
        General Notes
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-testing-blog/testable_code/" title="Guide to Writing Testable Code" class="dd-item ">
        <a href="/google-testing-blog/testable_code/">
        Guide to Writing Testable Code
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-testing-blog/whittaker/" title="James Whittaker" class="dd-item ">
        <a href="/google-testing-blog/whittaker/">
        James Whittaker
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/google-testing-blog/tott/" title="Testing on the Toilet" class="dd-item ">
        <a href="/google-testing-blog/tott/">
        Testing on the Toilet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Notebook</a> > <a href='/google-testing-blog/'>Google Testing Blog</a> > General Notes
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#test-reliability">Test Reliability</a></li>
    <li><a href="#code-quality">Code Quality</a></li>
    <li><a href="#productivity">Productivity</a></li>
    <li><a href="#infrastructure">Infrastructure</a></li>
    <li><a href="#metrics--logging">Metrics & Logging</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              General Notes
            </h1>
          

        



<h2 id="test-reliability">Test Reliability</h2>
<ul>
<li>Smaller tests run faster, are less flakey, and isolate failures. As a general rule of thumb, favor
a composition of 70% small, 20% medium, and 10% large tests.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
<li>Test binary size and memory usage, including third-party testing tools, have a strong correlation
on whether a test is flaky.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></li>
<li>Beware of using UI testing to verify underlying functionality. In these cases, it is cheaper and
more reliable to have smaller tests that break closer to the source of the problem.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> <sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></li>
<li>Hermetic servers add speed and reliability into end-to-end tests. A environment is considered
Hermetic if it can run an entire system under test on a single machine with fake network
connections and database implementations.<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup></li>
<li>Filter out flakey tests by rerunning failing tests. If a test fails three times in a row, consider it
a real failure.<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup></li>
<li>Build testability into the product. For example, a real-time system can rely on a fake clock
instead of a hardware clock. Processes can spawn other processes attached to a debugger with
debugging flags.<sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup></li>
</ul>
<h2 id="code-quality">Code Quality</h2>
<ul>
<li>Releasing often gives teams an incentive to automate testing and reduce coupling with the rest of
the system.<sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup></li>
<li>When a team provides <a href="../tott/#know-your-test-doubles">fakes</a> and writes tests for them, they
become clients of their own software. Experiencing the perspective of the client gives the team an
incentive to make their API easier to use.<sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup></li>
<li>While writing the header first encourages consideration for the interface, writing tests first
encourages consideration for how the interface will be <em>used</em>.<sup id="fnref:9"><a href="#fn:9" class="footnote-ref" role="doc-noteref">9</a></sup></li>
<li>Good code quality is taught, not enforced. Create a culture that teaches code quality through code
review, pair programming, and mentoring.<sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup></li>
</ul>
<h2 id="productivity">Productivity</h2>
<ul>
<li>Automation is costly. Automate only the tests that you find yourself running often to reliably
catch regressions on features with business value.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></li>
<li>Speed up the feedback loop between test engineers and development engineers. Share the same space,
tools, daily stand-ups, and design discussions.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></li>
<li>Effective automation depends on test design. Good test design is built from a solid foundation of
manual tests.<sup id="fnref:10"><a href="#fn:10" class="footnote-ref" role="doc-noteref">10</a></sup></li>
<li>If a test plan isn't worth bothering to update, it isn't worth creating in the first place. A
quick brainstorming session will suffice.<sup id="fnref:11"><a href="#fn:11" class="footnote-ref" role="doc-noteref">11</a></sup></li>
<li>Use formatting tools, like clang-format, to improve readability.<sup id="fnref:12"><a href="#fn:12" class="footnote-ref" role="doc-noteref">12</a></sup></li>
</ul>
<h2 id="infrastructure">Infrastructure</h2>
<ul>
<li>Remove the detective work of tracking down bad changes by investing in a pre-submit system that
runs automated tests against the commit before it reaches the depot.<sup id="fnref:13"><a href="#fn:13" class="footnote-ref" role="doc-noteref">13</a></sup> <sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup></li>
<li>Don't fall behind on updating third party dependencies. Update them quickly by setting up CI
system with dependencies pinned at head.<sup id="fnref:14"><a href="#fn:14" class="footnote-ref" role="doc-noteref">14</a></sup></li>
<li>Avoid making more than one branch by putting risky new changes behind feature flags.<sup id="fnref:12"><a href="#fn:12" class="footnote-ref" role="doc-noteref">12</a></sup></li>
<li>Constantly look for opportunities to make the build system faster. Reduce the amount of code being
compiled, replace tools with faster counterparts, and use distributed build systems.<sup id="fnref:15"><a href="#fn:15" class="footnote-ref" role="doc-noteref">15</a></sup></li>
<li>Release early and release often. Services and websites can deploy rapidly. A good target for
client projects is Chromes six week cycle.<sup id="fnref:15"><a href="#fn:15" class="footnote-ref" role="doc-noteref">15</a></sup></li>
</ul>
<h2 id="metrics--logging">Metrics &amp; Logging</h2>
<ul>
<li><em>Pre- vs post-production defect ratio</em> and a breakdown of <em>defects by component or functional
area</em> help identify holes in test.<sup id="fnref:16"><a href="#fn:16" class="footnote-ref" role="doc-noteref">16</a></sup></li>
<li>Premature performance optimization makes bad code. Develop in a clean, maintainable and
extensible manner <em>first</em>, and then let benchmarks drive performance optimizations.<sup id="fnref:17"><a href="#fn:17" class="footnote-ref" role="doc-noteref">17</a></sup></li>
<li>Remove unwanted noise by logging with conditional verbosity. Log all levels to a logging queue.
If a transaction completes successfully, discard the unimportant levels.<sup id="fnref:18"><a href="#fn:18" class="footnote-ref" role="doc-noteref">18</a></sup></li>
<li>Use two sets of logging levels, one for production builds and one for development builds.<sup id="fnref:18"><a href="#fn:18" class="footnote-ref" role="doc-noteref">18</a></sup></li>
<li>Trace the time spent on every significant processing step. Measuring is the only way to detect
performance issues or make claims about performance.<sup id="fnref:18"><a href="#fn:18" class="footnote-ref" role="doc-noteref">18</a></sup></li>
<li>Write automated performance tests for performance sensitive parts of your product.<sup id="fnref:15"><a href="#fn:15" class="footnote-ref" role="doc-noteref">15</a></sup></li>
</ul>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html">https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2017/04/where-do-our-flaky-tests-come-from.html">https://testing.googleblog.com/2017/04/where-do-our-flaky-tests-come-from.html</a> <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2007/10/automating-tests-vs-test-automation.html">https://testing.googleblog.com/2007/10/automating-tests-vs-test-automation.html</a> <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2008/06/taming-beast-aka-how-to-test-ajax.html">https://testing.googleblog.com/2008/06/taming-beast-aka-how-to-test-ajax.html</a> <a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2012/10/hermetic-servers.html">https://testing.googleblog.com/2012/10/hermetic-servers.html</a> <a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2016/05/flaky-tests-at-google-and-how-we.html">https://testing.googleblog.com/2016/05/flaky-tests-at-google-and-how-we.html</a> <a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2016/10/hackable-projects-pillar-2-debuggability.html">https://testing.googleblog.com/2016/10/hackable-projects-pillar-2-debuggability.html</a> <a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:8" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2017/02/discomfort-as-tool-for-change.html">https://testing.googleblog.com/2017/02/discomfort-as-tool-for-change.html</a> <a href="#fnref:8" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:9" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2008/09/test-first-is-fun_08.html">https://testing.googleblog.com/2008/09/test-first-is-fun_08.html</a> <a href="#fnref:9" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:10" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2008/09/presubmit-and-performance.html">https://testing.googleblog.com/2008/09/presubmit-and-performance.html</a> <a href="#fnref:10" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:11" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2011/09/10-minute-test-plan.html">https://testing.googleblog.com/2011/09/10-minute-test-plan.html</a> <a href="#fnref:11" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:12" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2016/08/hackable-projects.html">https://testing.googleblog.com/2016/08/hackable-projects.html</a> <a href="#fnref:12" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:13" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2009/06/burning-test-questions-at-google.html">https://testing.googleblog.com/2009/06/burning-test-questions-at-google.html</a> <a href="#fnref:13" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:14" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2015/05/multi-repository-development.html">https://testing.googleblog.com/2015/05/multi-repository-development.html</a> <a href="#fnref:14" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:15" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2016/11/hackable-projects-pillar-3.html">https://testing.googleblog.com/2016/11/hackable-projects-pillar-3.html</a> <a href="#fnref:15" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:16" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2007/10/post-release-closing-loop_02.html">https://testing.googleblog.com/2007/10/post-release-closing-loop_02.html</a> <a href="#fnref:16" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:17" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2007/10/performance-testing.html">https://testing.googleblog.com/2007/10/performance-testing.html</a> <a href="#fnref:17" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:18" role="doc-endnote">
<p><a href="https://testing.googleblog.com/2013/06/optimal-logging.html">https://testing.googleblog.com/2013/06/optimal-logging.html</a> <a href="#fnref:18" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/google-testing-blog/" title="Google Testing Blog"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/google-testing-blog/testable_code/" title="Guide to Writing Testable Code" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1579407787"></script>
    <script src="/js/perfect-scrollbar.min.js?1579407787"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1579407787"></script>
    <script src="/js/jquery.sticky.js?1579407787"></script>
    <script src="/js/featherlight.min.js?1579407787"></script>
    <script src="/js/highlight.pack.js?1579407787"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1579407787"></script>
    <script src="/js/learn.js?1579407787"></script>
    <script src="/js/hugo-learn.js?1579407787"></script>

    <link href="/mermaid/mermaid.css?1579407787" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1579407787"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

